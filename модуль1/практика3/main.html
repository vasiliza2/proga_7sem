<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Master Quiz Game</title>
    <style>
        :root {
            --primary: #4f46e5;
            --success: #10b981;
            --error: #ef4444;
            --dark: #1e293b;
            --light: #f8fafc;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: var(--dark);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        .game-card {
            background: white;
            width: 100%;
            max-width: 500px;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in { animation: fadeIn 0.4s ease-out; }

        /* –≠–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ */
        h1 { color: var(--primary); margin-bottom: 10px; }
        
        .stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .timer-bar {
            height: 6px;
            background: #e2e8f0;
            border-radius: 3px;
            margin-bottom: 20px;
        }

        #timer-progress {
            height: 100%;
            background: var(--primary);
            width: 100%;
            transition: width 1s linear;
        }

        .options-grid {
            display: grid;
            gap: 12px;
            margin: 20px 0;
        }

        .option-btn {
            padding: 15px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            background: none;
            cursor: pointer;
            font-size: 1rem;
            transition: 0.2s;
        }

        .option-btn:hover:not(:disabled) {
            border-color: var(--primary);
            background: #f5f3ff;
        }

        .option-btn.correct { background: var(--success); color: white; border-color: var(--success); }
        .option-btn.wrong { background: var(--error); color: white; border-color: var(--error); }

        .btn-main {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 10px;
            font-size: 1.1rem;
            cursor: pointer;
            margin-top: 10px;
        }

        .difficulty-select {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin: 20px 0;
        }

        .diff-btn {
            padding: 8px 16px;
            border: 1px solid var(--primary);
            border-radius: 20px;
            cursor: pointer;
            background: white;
        }

        .diff-btn.active {
            background: var(--primary);
            color: white;
        }

        #leaderboard {
            margin-top: 20px;
            text-align: left;
            font-size: 0.9rem;
            border-top: 1px solid #eee;
            padding-top: 10px;
        }

        .hidden { display: none; }
    </style>
</head>
<body>

<div class="game-card">
    <div id="start-screen">
        <h1>Web Quiz Pro</h1>
        <p>–ü—Ä–æ–≤–µ—Ä—å —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è –≤ –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ!</p>
        
        <div class="difficulty-select">
            <button class="diff-btn active" onclick="setDiff('easy', this)">–õ–µ–≥–∫–æ</button>
            <button class="diff-btn" onclick="setDiff('hard', this)">–°–ª–æ–∂–Ω–æ</button>
        </div>
<div style="text-align: left; background: #f1f5f9; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
            <strong>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</strong>
            <ul style="padding-left: 20px; margin: 5px 0;">
                <li>–£ –≤–∞—Å 15 —Å–µ–∫—É–Ω–¥ –Ω–∞ –≤–æ–ø—Ä–æ—Å</li>
                <li>–ó–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: +10 –æ—á–∫–æ–≤</li>
                <li>–ó–∞ –±—ã—Å—Ç—Ä—É—é —Ä–µ–∞–∫—Ü–∏—é: –±–æ–Ω—É—Å–Ω—ã–µ –±–∞–ª–ª—ã</li>
            </ul>
        </div>

        <button class="btn-main" onclick="startGame()">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
        
        <div id="leaderboard">
            <strong>üèÜ –†–µ–∫–æ—Ä–¥—ã:</strong>
            <div id="high-scores">–ü—É—Å—Ç–æ</div>
        </div>
    </div>

    <div id="game-screen" class="hidden">
        <div class="stats">
            <span>–°—á–µ—Ç: <span id="score">0</span></span>
            <span id="timer-text">15—Å</span>
        </div>
        <div class="timer-bar"><div id="timer-progress"></div></div>
        
        <h2 id="question-text" class="fade-in">–ó–∞–≥—Ä—É–∑–∫–∞...</h2>
        <div id="options-container" class="options-grid"></div>
    </div>

    <div id="end-screen" class="hidden">
        <h1 id="result-title">–ö–æ–Ω–µ—Ü –∏–≥—Ä—ã!</h1>
        <p style="font-size: 1.5rem;">–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: <span id="final-score">0</span></p>
        <button class="btn-main" onclick="restartGame()">–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
    </div>
</div>

<script>
    const database = {
        easy: [
            { q: "–ß—Ç–æ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ HTML?", a: ["HyperText Markup Language", "High Tech Machine Language", "Home Tool Markup Language"], c: 0 },
            { q: "–ö–∞–∫–æ–π —Ç–µ–≥ —Å–æ–∑–¥–∞–µ—Ç –∂–∏—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç?", a: ["<lb>", "<b>", "<bold>"], c: 1 },
            { q: "–ö–∞–∫–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ –º–µ–Ω—è–µ—Ç —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –≤ CSS?", a: ["background", "font-color", "color"], c: 2 },
            { q: "–ö–∞–∫–æ–π —Å–∏–º–≤–æ–ª –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è ID –≤ CSS?", a: ["#", ".", "@"], c: 0 },
            { q: "–ö–∞–∫ –≤—ã–∑–≤–∞—Ç—å –∞–ª–µ—Ä—Ç –≤ JavaScript?", a: ["msg()", "alert()", "print()"], c: 1 }
        ],
        hard: [
            { q: "–ö–∞–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Ñ–æ–∫—É—Å–∞?", a: ["onblur", "onfocusout", "onleave"], c: 0 },
            { q: "–ß–µ–º—É —Ä–∞–≤–Ω–æ '2' + 2 - 1 –≤ JS?", a: ["21", "3", "22"], c: 0 },
            { q: "–ö–∞–∫–æ–π –º–µ—Ç–æ–¥ —É–¥–∞–ª—è–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç –º–∞—Å—Å–∏–≤–∞?", a: ["shift()", "pop()", "slice()"], c: 1 },
            { q: "–ß—Ç–æ —Ç–∞–∫–æ–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ (closure)?", a: ["–§—É–Ω–∫—Ü–∏—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏", "–î–æ—Å—Ç—É–ø –∫ –≤–Ω–µ—à–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏", "–£—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏"], c: 1 },
            { q: "–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∏–ø –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π?", a: ["getType()", "instanceof", "typeof"], c: 2 }
        ]
    };

    let currentDifficulty = 'easy';
    let score = 0;
    let timer;
    let timeLeft;
    let currentQuestions = [];
    let qIndex = 0;

    function setDiff(val, btn) {
        currentDifficulty = val;
        document.querySelectorAll('.diff-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
    }

    function updateLeaderboard() {
        const scores = JSON.parse(localStorage.getItem('quiz_records') || '[]');
        const html = scores.length ? scores.map((s, i) => `<div>${i+1}. ${s.points} pts (${s.diff})</div>`).join('') : '–ë—É–¥—å –ø–µ—Ä–≤—ã–º!';
        document.getElementById('high-scores').innerHTML = html;
    }

    function startGame() {
        document.getElementById('start-screen').classList.add('hidden');
        document.getElementById('game-screen').classList.remove('hidden');
        score = 0;
        qIndex = 0;
        currentQuestions = [...database[currentDifficulty]].sort(() => Math.random() - 0.5);
        nextQuestion();
    }

    function nextQuestion() {
        if (qIndex >= currentQuestions.length) return endGame();
        
        const q = currentQuestions[qIndex];
        document.getElementById('question-text').innerText = q.q;
        const container = document.getElementById('options-container');
        container.innerHTML = '';

        q.a.forEach((text, i) => {
            const btn = document.createElement('button');
            btn.className = 'option-btn fade-in';
            btn.innerText = text;
            btn.onclick = () => checkAnswer(i);
            container.appendChild(btn);
});

        startTimer();
    }

    function startTimer() {
        clearInterval(timer);
        timeLeft = 15;
        const bar = document.getElementById('timer-progress');
        const text = document.getElementById('timer-text');
        
        timer = setInterval(() => {
            timeLeft--;
            text.innerText = timeLeft + '—Å';
            bar.style.width = (timeLeft / 15 * 100) + '%';
            if (timeLeft <= 0) {
                checkAnswer(-1); // –ü—Ä–æ–ø—É—Å–∫
            }
        }, 1000);
    }

    function checkAnswer(idx) {
        clearInterval(timer);
        const q = currentQuestions[qIndex];
        const buttons = document.querySelectorAll('.option-btn');
        
        buttons.forEach((btn, i) => {
            btn.disabled = true;
            if (i === q.c) btn.classList.add('correct');
            else if (i === idx) btn.classList.add('wrong');
        });

        if (idx === q.c) {
            score += 10 + timeLeft; // –ë–æ–Ω—É—Å –∑–∞ –≤—Ä–µ–º—è
            document.getElementById('score').innerText = score;
        }

        setTimeout(() => {
            qIndex++;
            nextQuestion();
        }, 1500);
    }

    function endGame() {
        document.getElementById('game-screen').classList.add('hidden');
        document.getElementById('end-screen').classList.remove('hidden');
        document.getElementById('final-score').innerText = score;

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∫–æ—Ä–¥–∞
        const scores = JSON.parse(localStorage.getItem('quiz_records') || '[]');
        scores.push({ points: score, diff: currentDifficulty });
        scores.sort((a, b) => b.points - a.points);
        localStorage.setItem('quiz_records', JSON.stringify(scores.slice(0, 5)));
        updateLeaderboard();
    }

    function restartGame() {
        document.getElementById('end-screen').classList.add('hidden');
        document.getElementById('start-screen').classList.remove('hidden');
        updateLeaderboard();
    }

    // –ü–µ—Ä–≤–∏—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
    updateLeaderboard();
</script>

</body>
</html>
